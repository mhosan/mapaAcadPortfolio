import{a as T,b as F,c as P,d as Q,e as R,f as D,g as j,h as O}from"./chunk-L7C2TFW3.js";import{$ as E,B as x,D as S,H as M,M as d,N as o,O as a,S as L,T as h,U as v,Z as s,_ as C,aa as I,ba as q,d as b,e as g,i as _,ja as k,ka as V,n as p,o as u,ra as N,s as y,y as m}from"./chunk-CWM66J34.js";import"./chunk-RGAUAWUM.js";var W=(()=>{let e=class e{constructor(){this.llmReady=import("./chunk-TY3RS762.js").then(i=>(this.llm=new i.ChatLLM7({modelName:"gpt-4.1-2025-04-14",temperature:.8}),this.llm))}askQuestion(i){return g(this.llmReady).pipe(y(n=>g(n.invoke(i))),b(n=>typeof n=="string"?n:n?.content||""))}};e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=_({token:e,factory:e.\u0275fac,providedIn:"any"});let t=e;return t})();function B(t,e){t&1&&(o(0,"div",10),s(1,"Cargando respuesta..."),a())}function G(t,e){if(t&1&&(o(0,"div",10)(1,"strong"),s(2,"Respuesta:"),a(),o(3,"div",11),s(4),a()()),t&2){let c=v();m(4),C(c.answer)}}function H(t,e){if(t&1&&(o(0,"div",12),s(1),a()),t&2){let c=v();m(),C(c.error)}}var ee=(()=>{let e=class e{constructor(i){this.llm7Service=i,this.question="",this.answer="",this.loading=!1,this.error=""}sendQuestion(){this.answer="",this.error="",this.loading=!0,this.llm7Service.askQuestion(this.question).subscribe({next:i=>{this.answer=i,this.loading=!1},error:i=>{this.error="Error: "+(i?.message||i),this.loading=!1}})}};e.\u0275fac=function(n){return new(n||e)(x(W))},e.\u0275cmp=S({type:e,selectors:[["app-llm7-chat"]],decls:16,vars:5,consts:[["chatForm","ngForm"],[1,"llm7-chat-container"],["routerLink","/home",1,"btn","btn-primary","btn-sm",2,"position","absolute","left","2rem","top","2rem"],[3,"ngSubmit"],[1,"mb-3"],["for","question",1,"form-label"],["id","question","name","question","rows","3","required","",1,"form-control",3,"ngModelChange","keydown.enter","ngModel"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","mt-3",4,"ngIf"],["class","alert alert-danger mt-3",4,"ngIf"],[1,"mt-3"],[1,"alert","alert-success","mt-2"],[1,"alert","alert-danger","mt-3"]],template:function(n,r){if(n&1){let f=L();o(0,"div",1)(1,"a",2),s(2,"Home"),a(),o(3,"h2"),s(4,"Chat LLM7"),a(),o(5,"form",3,0),h("ngSubmit",function(){return p(f),u(r.sendQuestion())}),o(7,"div",4)(8,"label",5),s(9,"Pregunta:"),a(),o(10,"textarea",6),q("ngModelChange",function(l){return p(f),I(r.question,l)||(r.question=l),u(l)}),h("keydown.enter",function(l){return p(f),r.sendQuestion(),u(l.preventDefault())}),a()(),o(11,"button",7),s(12,"Enviar"),a()(),M(13,B,2,0,"div",8)(14,G,5,1,"div",8)(15,H,2,1,"div",9),a()}n&2&&(m(10),E("ngModel",r.question),m(),d("disabled",r.loading||!r.question),m(2),d("ngIf",r.loading),m(),d("ngIf",r.answer&&!r.loading),m(),d("ngIf",r.error))},dependencies:[V,k,O,D,T,F,P,j,R,Q,N],styles:[".llm7-chat-container[_ngcontent-%COMP%]{max-width:600px;margin:2rem auto;padding:2rem;background:#f8f9fa;border-radius:8px;box-shadow:0 2px 8px #00000014}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}button.btn[_ngcontent-%COMP%]{min-width:120px}"]});let t=e;return t})();export{ee as Llm7ChatComponent};
